{"version":3,"sources":["webpack://tea/webpack/universalModuleDefinition","webpack://tea/webpack/bootstrap","webpack://tea/./src/vdom/v_att.js","webpack://tea/./src/vdom/v_elem.js","webpack://tea/./src/vdom/render.js","webpack://tea/./src/utils/noop.js","webpack://tea/./src/vdom/patch.js","webpack://tea/./src/vdom/index.js","webpack://tea/./src/tea/tea.js","webpack://tea/./src/utils/names.js","webpack://tea/./src/index.js","webpack://tea/./src/vdom/mount.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","v_att","prop","this","TeaAtt","v_elem","tag","attributes","elements","TeaNode","atts","els","dom","document","createElement","render","e","createTextNode","renderEl","v_el","drop","tea","listen","fn","emit","console","log","style","className","setAttribute","length","appendChild","noop","getAttsPatch","prev","next","Math","max","att_ups","runRemoveCheck","push","removeAttribute","longest","getTeaEvent","addEventListener","getPatch","remove","replaceDom","tagName","runAtts","runChildren","parent_ups","child_ups","f","childNodes","getChildPatch","replaceWith","Tea","_dom","_selector","_state","view","model","result","intervals","deferred","EVENT_REGISTRY","includes","cleanup","splice","indexOf","data","forEach","step","patch","int","func","ms","id","setInterval","def","setTimeout","clearTimeout","start","config","nextFn","JSON","stringify","selector","querySelector","defer","interval","comp_names","att_names","k","HTML","mount"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"tea\"] = factory();\n\telse\n\t\troot[\"tea\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\r\n\r\nexport function v_att(prop, value) {\r\n    this.prop = prop\r\n    this.value = value\r\n}\r\n\r\n\r\nexport function TeaAtt(prop) {\r\n    return function(value) {\r\n        return new v_att(prop, value)\r\n    }\r\n}","// export const TEA_FRAGMENT = 'tea-fragment'\r\n\r\n// export const __ = elements => new v_elem(TEA_FRAGMENT, [], elements)\r\n\r\nexport function v_elem(tag, attributes, elements) {\r\n    this.tag = tag\r\n    this.attributes = attributes\r\n    this.elements = elements\r\n}\r\n\r\nexport function TeaNode(tag) {\r\n    return function(atts, els) {\r\n        return new v_elem(tag, atts, els)\r\n    }\r\n}","\r\nconst dom = document.createElement.bind(document)\r\n\r\n\r\nexport const render = e => \r\n    typeof e === 'string'  ? document.createTextNode(e)\r\n// :   e.tag === TEA_FRAGMENT ? renderFragment(e)\r\n:  /*else*/                  renderEl(e)\r\n\r\n// function renderFragment(fragment) {\r\n//     const { elements } = fragment\r\n\r\n//     const d = document.createDocumentFragment()\r\n\r\n//     for(let i = 0; i < elements.length; i++) {\r\n//         d.appendChild(render(elements[i]))\r\n//     }\r\n\r\n//     return d\r\n// }\r\n\r\nfunction renderEl(v_el) {\r\n    const { tag, attributes, elements } = v_el\r\n    const d = dom(tag)\r\n\r\n    for(let i = 0; i < attributes.length; i++) {\r\n        const { prop, value } = attributes[i]\r\n        \r\n        if(typeof value === 'function') {\r\n            const drop = window.tea.listen(prop, value)\r\n            const fn = e => {\r\n                window.tea.emit(prop, e)\r\n            }\r\n            fn.drop = drop\r\n            console.log(fn)\r\n            d[`on${prop}`] = fn\r\n        }\r\n        else if(prop === 'style')           d.style = value\r\n        else if(prop === 'className')       d.className = value\r\n        else                                d.setAttribute(prop, value)\r\n    }\r\n\r\n    for(let i = 0; i < elements.length; i++) {\r\n        d.appendChild(render(elements[i]))\r\n    }\r\n\r\n    return d\r\n}\r\n","export const noop = () => {}","import { render } from './render'\r\n\r\nfunction getChildPatch(prev, next) {\r\n    const parent_ups  = [],\r\n          child_ups   = []          \r\n    \r\n    for(let i = 0; i < next.length; i++) {\r\n        if(i >= prev.length) \r\n            parent_ups.push(d => \r\n                (d.appendChild(render(next[i])), d))\r\n  \r\n        child_ups.push(d =>\r\n            getPatch(d, next[i]))\r\n    } //end for\r\n    \r\n    return d => {\r\n        for(let i = 0; i < child_ups.length; i++) {\r\n            child_ups[i](d.childNodes[i])\r\n        }\r\n\r\n        for(let i = 0; i < parent_ups.length; i++){\r\n            parent_ups[i](d)\r\n        }\r\n\r\n        return d\r\n    }\r\n}\r\n\r\n  \r\nfunction getAttsPatch(prev, next) {\r\n    const att_ups = []\r\n    const drop = d => {\r\n        d[`on${prop}`].drop()\r\n        d[`on${prop}`] = null\r\n        return d\r\n    }\r\n    const runRemoveCheck = (prop, value) =>\r\n        att_ups.push(d => //match ->\r\n            typeof value === 'function' ? drop(d)\r\n        :   prop === 'style'            ? (d.style = next.style, d) \r\n        :   prop === 'className'        ? (d.className = '', d)\r\n        :   /*else*/                      (d.removeAttribute(prop), d)\r\n        ) //end match\r\n\r\n    const longest = Math.max(prev.length, next.length)\r\n\r\n    const getTeaEvent = (prop, value, d) => {\r\n        const drop = window.tea.listen(prop, value)\r\n        const fn = e => {\r\n            tea.emit(prop, e)\r\n        }\r\n        fn.drop = drop\r\n        d[`on${prop}`] = fn\r\n    }\r\n\r\n    for(let i = 0; i < longest; i++) {\r\n        const {prop, value} = next[i]\r\n        \r\n        //tail branch\r\n        if(i >= prev.length) {\r\n            att_ups.push(d => //match ->\r\n                typeof value === 'function' ? (getTeaEvent(prop, value, d), d)\r\n            :   prop === 'className'        ? (d.className = value, d)\r\n            :   prop === 'style'            ? (d.style = next.style, d)\r\n            :   /* else */                    (d.setAttribute(prop, value), d)\r\n            )//end match\r\n            break\r\n        }\r\n        if(i >= next.length) {\r\n            runRemoveCheck(prop, value)   \r\n            break\r\n        }\r\n        //end tail branch\r\n\r\n        //standard branch\r\n        if(prev[prop] !== value)\r\n            att_ups.push(d =>\r\n                value === null              ? (runRemoveCheck(), d)\r\n            :   typeof value === 'function' ? (d.addEventListener(prop, value), d)\r\n            :   prop === 'style'            ? (d.style = next.style, d)\r\n            :   prop === 'className'        ? (d.className = value, d)\r\n            :   /**else */                    (d.setAttribute(prop), d)\r\n            )\r\n        //end standard branch\r\n    } //end for \r\n\r\n    return d => {\r\n        for(let i = 0; i < att_ups.length; i++) {\r\n            att_ups[i](d)\r\n        }\r\n    }\r\n}\r\n\r\nexport function getPatch(prev, next) {\r\n    if(next === undefined) \r\n      return d => d.remove()\r\n    \r\n    if((typeof prev === 'string' || typeof next === 'string')\r\n    &&  prev !== next) {\r\n        return replaceDom(next)\r\n    }\r\n    \r\n    if((typeof prev !== 'string' && typeof next !== 'string')\r\n    && prev.tagName !== next.tag) {\r\n        return replaceDom(next)\r\n    }\r\n    \r\n    const runAtts = getAttsPatch(prev.attributes, next.atts)\r\n    const runChildren = getChildPatch(prev.childNodes, next.els)\r\n    \r\n    return d => {\r\n        runChildren(d)\r\n        runAtts(d)\r\n        return d\r\n    }\r\n        \r\n}\r\n\r\nfunction replaceDom(next) {\r\n    return d => {\r\n        const n = render(next)\r\n        d.replaceWith(n)\r\n        return n;\r\n    }\r\n}","import { TeaAtt }   from './v_att'\r\nimport { TeaNode }  from './v_elem'\r\nimport { render }   from './render'\r\nimport { mount }    from './mount'\r\nimport { getPatch }     from './patch'\r\nimport { comp_names, att_names } from '../utils/names'\r\n\r\nconst elements = { }\r\nconst attributes = {}\r\n\r\nfor(let i = 0; i < comp_names.length; i++) {\r\n    const name = comp_names[i]\r\n    elements[name] = TeaNode(name) \r\n}\r\n\r\nfor(let i = 0; i < att_names.length; i++) {\r\n    const k = att_names[i]\r\n    attributes[k] = TeaAtt(k)\r\n}\r\n\r\nexport const HTML = {\r\n    elements, attributes, render, mount, getPatch\r\n}\r\n\r\n\r\n","import { noop } from \"../utils/noop\"\r\nimport { getPatch } from \"../vdom/patch\"\r\n\r\nexport const teaventer = () => {\r\n    const EVENT_REGISTRY = {}\r\n\r\n    const listen = (name, fn) => {\r\n        EVENT_REGISTRY[name] = EVENT_REGISTRY[name] || []\r\n        EVENT_REGISTRY[name].push(fn)\r\n        return drop(name, fn)\r\n    }\r\n\r\n    const drop = (name, fn) => _ => {\r\n        EVENT_REGISTRY[name].splice(EVENT_REGISTRY[name].indexOf(fn))\r\n    }\r\n\r\n    const emit = (name, data) => \r\n        EVENT_REGISTRY[name].forEach(fn => fn(data, _state))\r\n\r\n    return { listen, emit }\r\n}\r\n\r\n/** Tea Runtime. Wraps the DOM and injects via output it's state into views and events , while\r\n *  accepting as input Tea State objects, expected to be returned by your views and event handlers \r\n*/\r\nconst Tea = () => {\r\n\r\n    let _dom = null,\r\n        _selector = '',\r\n        _state = {\r\n            view: null,\r\n            model: {},\r\n            result: null,\r\n            intervals: [],\r\n            deferred: []\r\n        }\r\n    \r\n    //Internal event wrapper injects state into events and automatically calls dom update\r\n    //using the returned value\r\n    const teaventer = () => {\r\n        const EVENT_REGISTRY = {}\r\n    \r\n        const listen = (name, fn) => {\r\n            EVENT_REGISTRY[name] = EVENT_REGISTRY[name] || []\r\n            EVENT_REGISTRY[name].includes(fn) ? noop() : EVENT_REGISTRY[name].push(fn)\r\n            return drop(name, fn)\r\n        }\r\n    \r\n        const drop = (name, fn) => (cleanup = noop) => {\r\n            cleanup()\r\n            EVENT_REGISTRY[name].splice(EVENT_REGISTRY[name].indexOf(fn))\r\n        }\r\n    \r\n        //inject internal state data into listener\r\n        const emit = (name, data) => {\r\n            if(EVENT_REGISTRY[name])\r\n                EVENT_REGISTRY[name].forEach(fn => \r\n                    window.tea.step(() => fn(data, _state)))\r\n        }\r\n    \r\n        return { listen, emit }\r\n    }\r\n\r\n    const { listen, emit } = teaventer()\r\n\r\n    return {\r\n        get model() { return _state.model },\r\n        set model(value) { \r\n            _state.model = value\r\n        },\r\n\r\n        get view() { return _state.view },\r\n        set view(value) {\r\n            let next = value(_state)\r\n            const patch = getPatch(_dom, next)\r\n            _dom = patch(_dom)\r\n        },\r\n\r\n        set interval(value) {\r\n            console.log(value)\r\n            for(const int of value) {\r\n                const { func, ms } = int\r\n                int.id = setInterval(() => window.tea.step(() => func(_state)), ms)\r\n            }\r\n        },\r\n\r\n        set defer(value) {\r\n            for(const def in value) {\r\n                const { func, ms } = def\r\n                def.id = setTimeout(() => { window.tea.step(() => func(_state)); clearTimeout(def.id) }, ms)\r\n            }\r\n        },\r\n        \r\n        start(config) {\r\n            this.step(config)\r\n        },\r\n        step(nextFn) {\r\n            console.log('step:')\r\n            const next = nextFn(_state) // order of execution actually matters here.\r\n            console.log(JSON.stringify(next))\r\n            if(next.hasOwnProperty('selector')) {\r\n                if(_selector !== '') { noop() }\r\n                else {\r\n                    _selector = next.selector\r\n                    _dom = document.querySelector(next.selector)\r\n                }\r\n            }\r\n            if(next.hasOwnProperty('model'))   \r\n                this.model = next.model\r\n\r\n            if(next.hasOwnProperty('view'))     \r\n                this.view = next.view\r\n\r\n            if( next.hasOwnProperty('defer'))\r\n                this.defer = next.defer\r\n\r\n            if( next.hasOwnProperty('interval'))\r\n                this.interval = next.interval            \r\n\r\n        },\r\n        listen, \r\n        emit\r\n    }\r\n}\r\n\r\n\r\nexport { Tea }\r\n","export const comp_names = [\"a\", \"abbr\", \"acronym\", \"address\", \"applet\", \"area\", \"article\", \"aside\", \"audio\", \"b\", \"base\", \"basefont\", \"bdi\", \"bdo\", \"bgsound\", \"big\", \"blink\", \"blockquote\", \"body\", \"br\", \"button\", \"canvas\", \"caption\", \"center\", \"cite\", \"code\", \"col\", \"colgroup\", \"command\", \"content\", \"data\", \"datalist\", \"dd\", \"del\", \"details\", \"dfn\", \"dialog\", \"dir\", \"div\", \"dl\", \"dt\", \"element\", \"em\", \"embed\", \"fieldset\", \"figcaption\", \"figure\", \"font\", \"footer\", \"form\", \"frame\", \"frameset\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"head\", \"header\", \"hgroup\", \"hr\", \"html\", \"i\", \"iframe\", \"image\", \"img\", \"input\", \"ins\", \"isindex\", \"kbd\", \"keygen\", \"label\", \"legend\", \"li\", \"link\", \"listing\", \"main\", \"map\", \"mark\", \"marquee\", \"math\", \"menu\", \"menuitem\", \"meta\", \"meter\", \"multicol\", \"nav\", \"nextid\", \"nobr\", \"noembed\", \"noframes\", \"noscript\", \"object\", \"ol\", \"optgroup\", \"option\", \"output\", \"p\", \"param\", \"picture\", \"plaintext\", \"pre\", \"progress\", \"q\", \"rb\", \"rbc\", \"rp\", \"rt\", \"rtc\", \"ruby\", \"s\", \"samp\", \"script\", \"section\", \"select\", \"shadow\", \"slot\", \"small\", \"source\", \"spacer\", \"span\", \"strike\", \"strong\", \"style\", \"sub\", \"summary\", \"sup\", \"svg\", \"table\", \"tbody\", \"td\", \"template\", \"text\", \"textarea\", \"tfoot\", \"th\", \"thead\", \"time\", \"title\", \"tr\", \"track\", \"tt\", \"u\", \"ul\", \"var\", \"video\", \"wbr\", \"xmp\"];\r\nexport const att_names = ['accept', 'accesskey', 'action', 'alt', 'autocomplete', 'autofocus', 'autoplay', 'checked', 'cite', 'className', 'cols', 'colspan', 'contenteditable', 'controls', 'datetime', 'dir', 'dirname', 'disabled', 'download', 'draggable', 'for', 'form', 'formaction', 'headers', 'height', 'hidden', 'href', 'high', 'id', 'label', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'multiple', 'muted', 'name', 'blur', 'canplay', 'canplaythrough', 'change', 'click', 'contextmenu', 'copy', 'cut', 'dblclick', 'drag', 'dragend', 'dragenter', 'dragleave', 'dragover', 'dragstart', 'drop', 'durationchanged', 'emptied', 'ended', 'error', 'focus', 'hashchange', 'input', 'invalid', 'keydown', 'keypress', 'keyup', 'load', 'loadeddata', 'loadedmetadata', 'loadstart', 'mousedown', 'mouseover', 'mouseenter', 'mousemove', 'mouseout', 'mouseup', 'mousewheel', 'paste', 'pause', 'play', 'playing', 'progress', 'ratechange', 'reset', 'scroll', 'search', 'seekend', 'seeking', 'select', 'stalled', 'submit', 'suspend', 'timeupdate', 'toggle', 'volumechange', 'waiting', 'wheel', 'optimum', 'pattern', 'placeholder', 'poster', 'preload', 'readonly', 'rel', 'required', 'reversed', 'rows', 'sandbox', 'selected', 'shape', 'size', 'sizes', 'spellcheck', 'src', 'srcdoc', 'start', 'step', 'style', 'tabindex', 'target', 'title', 'type', 'value', 'width', 'wrap'  ]","import { HTML } from './vdom'\n\nexport const tea = { HTML };\n\n","import { Tea } from \"../tea/tea\"\r\n\r\nexport const mount = config => {    \r\n    window.tea = Tea()\r\n    window.tea.start(config)\r\n}"],"sourceRoot":""}